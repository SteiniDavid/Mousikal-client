{"remainingRequest":"/Users/wberner/COMP426 Final Project/Mousikal-client/node_modules/babel-loader/lib/index.js!/Users/wberner/COMP426 Final Project/Mousikal-client/node_modules/eslint-loader/index.js??ref--13-0!/Users/wberner/COMP426 Final Project/Mousikal-client/src/api/comment/Comment.js","dependencies":[{"path":"/Users/wberner/COMP426 Final Project/Mousikal-client/src/api/comment/Comment.js","mtime":1576104730088},{"path":"/Users/wberner/COMP426 Final Project/Mousikal-client/node_modules/cache-loader/dist/cjs.js","mtime":1576031911054},{"path":"/Users/wberner/COMP426 Final Project/Mousikal-client/node_modules/babel-loader/lib/index.js","mtime":1576031910994},{"path":"/Users/wberner/COMP426 Final Project/Mousikal-client/node_modules/eslint-loader/index.js","mtime":1576031911667}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IGdldEF4aW9zSW5zdGFuY2UgfSBmcm9tICIuLi8uLi9jb25maWcvQXhpb3MiOwp2YXIgYXhpb3MgPSBnZXRBeGlvc0luc3RhbmNlKCcvcHVibGljL2NvbW1lbnRzJyk7IC8vR2V0IGFsbCBjb21tZW50cyBmb3IgYSBjZXJ0YWluIGFsYnVtCgpleHBvcnQgdmFyIGdldEFsYnVtQ29tbWVudHMgPSBmdW5jdGlvbiBnZXRBbGJ1bUNvbW1lbnRzKF9yZWYpIHsKICB2YXIgX3JlZiRhbGJ1bUlELCBhbGJ1bUlELCBjb21tZW50cywgYWxidW1Db21tZW50czsKCiAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBnZXRBbGJ1bUNvbW1lbnRzJChfY29udGV4dCkgewogICAgd2hpbGUgKDEpIHsKICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIF9yZWYkYWxidW1JRCA9IF9yZWYuYWxidW1JRCwgYWxidW1JRCA9IF9yZWYkYWxidW1JRCA9PT0gdm9pZCAwID8gJycgOiBfcmVmJGFsYnVtSUQ7CiAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChheGlvcy5nZXQoJycpKTsKCiAgICAgICAgY2FzZSA0OgogICAgICAgICAgY29tbWVudHMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgY29tbWVudHMgPSBjb21tZW50cy5kYXRhLnJlc3VsdDsKICAgICAgICAgIGFsYnVtQ29tbWVudHMgPSBjb21tZW50cy5maWx0ZXIoZnVuY3Rpb24gKGNvbW1lbnQpIHsKICAgICAgICAgICAgcmV0dXJuIGNvbW1lbnQuYWxidW1JRCA9PSBhbGJ1bUlEOwogICAgICAgICAgfSk7CiAgICAgICAgICBhbGJ1bUNvbW1lbnRzID0gYWxidW1Db21tZW50cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgIHJldHVybiBiLmRhdGUgLSBhLmRhdGU7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGFsYnVtQ29tbWVudHMpOwoKICAgICAgICBjYXNlIDExOgogICAgICAgICAgX2NvbnRleHQucHJldiA9IDExOwogICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIFtdKTsKCiAgICAgICAgY2FzZSAxNDoKICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgfQogICAgfQogIH0sIG51bGwsIG51bGwsIFtbMSwgMTFdXSk7Cn07IC8vTWFrZSBhIGNvbW1lbnQKCmV4cG9ydCB2YXIgY3JlYXRlQ29tbWVudCA9IGZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnQoX3JlZjIpIHsKICB2YXIgX3JlZjIkdXNlciwgdXNlciwgX3JlZjIkY29tbWVudEJvZHksIGNvbW1lbnRCb2R5LCBfcmVmMiRhbGJ1bUlELCBhbGJ1bUlELCBfcmVmMiRkYXRlLCBkYXRlOwoKICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnQkKF9jb250ZXh0MikgewogICAgd2hpbGUgKDEpIHsKICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgX3JlZjIkdXNlciA9IF9yZWYyLnVzZXIsIHVzZXIgPSBfcmVmMiR1c2VyID09PSB2b2lkIDAgPyAnJyA6IF9yZWYyJHVzZXIsIF9yZWYyJGNvbW1lbnRCb2R5ID0gX3JlZjIuY29tbWVudEJvZHksIGNvbW1lbnRCb2R5ID0gX3JlZjIkY29tbWVudEJvZHkgPT09IHZvaWQgMCA/ICcnIDogX3JlZjIkY29tbWVudEJvZHksIF9yZWYyJGFsYnVtSUQgPSBfcmVmMi5hbGJ1bUlELCBhbGJ1bUlEID0gX3JlZjIkYWxidW1JRCA9PT0gdm9pZCAwID8gJycgOiBfcmVmMiRhbGJ1bUlELCBfcmVmMiRkYXRlID0gX3JlZjIuZGF0ZSwgZGF0ZSA9IF9yZWYyJGRhdGUgPT09IHZvaWQgMCA/IG5ldyBEYXRlKCkuZ2V0VGltZSgpIDogX3JlZjIkZGF0ZTsKICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoYXhpb3MucG9zdCgnJywgewogICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgYWxidW1JRDogYWxidW1JRCwKICAgICAgICAgICAgICB1c2VyOiB1c2VyLAogICAgICAgICAgICAgIGNvbW1lbnRCb2R5OiBjb21tZW50Qm9keSwKICAgICAgICAgICAgICBkYXRlOiBkYXRlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHR5cGU6ICdtZXJnZScKICAgICAgICAgIH0pKTsKCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0Mi5zZW50LmRhdGEucmVzdWx0LnBvc3RlZCk7CgogICAgICAgIGNhc2UgNDoKICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgIH0KICAgIH0KICB9KTsKfTsgLy9EZWxldGUgYSBjb21tZW50CgpleHBvcnQgdmFyIHVwZGF0ZUNvbW1lbnRzID0gZnVuY3Rpb24gdXBkYXRlQ29tbWVudHMoYWxidW1Db21tZW50cykgewogIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gdXBkYXRlQ29tbWVudHMkKF9jb250ZXh0MykgewogICAgd2hpbGUgKDEpIHsKICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChheGlvcy5wb3N0KCcnLCB7CiAgICAgICAgICAgIGRhdGE6IGFsYnVtQ29tbWVudHMKICAgICAgICAgIH0pKTsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0My5zZW50LmRhdGEucmVzdWx0LnBvc3RlZCk7CgogICAgICAgIGNhc2UgMzoKICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgIH0KICAgIH0KICB9KTsKfTs="},{"version":3,"sources":["/Users/wberner/COMP426 Final Project/Mousikal-client/src/api/comment/Comment.js"],"names":["getAxiosInstance","axios","getAlbumComments","albumID","get","comments","data","result","albumComments","filter","comment","sort","a","b","date","createComment","user","commentBody","Date","getTime","post","type","posted","updateComments"],"mappings":";;;;AAAA,SAASA,gBAAT,QAAiC,oBAAjC;AAEA,IAAMC,KAAK,GAAGD,gBAAgB,CAAC,kBAAD,CAA9B,C,CAEA;;AACA,OAAO,IAAME,gBAAgB,GAAG,SAAnBA,gBAAmB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,8BAASC,OAAT,EAASA,OAAT,6BAAmB,EAAnB;AAAA;AAAA;AAAA,0CAEHF,KAAK,CAACG,GAAN,CAAU,EAAV,CAFG;;AAAA;AAEpBC,UAAAA,QAFoB;AAGxBA,UAAAA,QAAQ,GAAGA,QAAQ,CAACC,IAAT,CAAcC,MAAzB;AACIC,UAAAA,aAJoB,GAIJH,QAAQ,CAACI,MAAT,CAAgB,UAAAC,OAAO;AAAA,mBAAIA,OAAO,CAACP,OAAR,IAAmBA,OAAvB;AAAA,WAAvB,CAJI;AAKxBK,UAAAA,aAAa,GAAGA,aAAa,CAACG,IAAd,CAAmB,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAC/C,mBAAOA,CAAC,CAACC,IAAF,GAASF,CAAC,CAACE,IAAlB;AACH,WAFe,CAAhB;AALwB,2CAQjBN,aARiB;;AAAA;AAAA;AAAA;AAAA,2CAUjB,EAViB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAzB,C,CAcP;;AACA,OAAO,IAAMO,aAAa,GAAG,SAAhBA,aAAgB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,6BAASC,IAAT,EAASA,IAAT,2BAAgB,EAAhB,yCAAoBC,WAApB,EAAoBA,WAApB,kCAAkC,EAAlC,4CAAsCd,OAAtC,EAAsCA,OAAtC,8BAAgD,EAAhD,qCAAoDW,IAApD,EAAoDA,IAApD,2BAA2D,IAAII,IAAJ,GAAWC,OAAX,EAA3D;AAAA;AAAA,0CACXlB,KAAK,CAACmB,IAAN,CAAW,EAAX,EAAe;AACzBd,YAAAA,IAAI,EAAE;AACFH,cAAAA,OAAO,EAAPA,OADE;AACOa,cAAAA,IAAI,EAAJA,IADP;AACaC,cAAAA,WAAW,EAAXA,WADb;AAC0BH,cAAAA,IAAI,EAAJA;AAD1B,aADmB;AAIzBO,YAAAA,IAAI,EAAE;AAJmB,WAAf,CADW;;AAAA;AAAA,2DAMrBf,IANqB,CAMhBC,MANgB,CAMTe,MANS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAtB,C,CASP;;AACA,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAOf,aAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CACZP,KAAK,CAACmB,IAAN,CAAW,EAAX,EAAe;AAC3Bd,YAAAA,IAAI,EAAEE;AADqB,WAAf,CADY;;AAAA;AAAA,2DAGtBF,IAHsB,CAGjBC,MAHiB,CAGVe,MAHU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAvB","sourcesContent":["import { getAxiosInstance } from \"../../config/Axios\";\n\nconst axios = getAxiosInstance('/public/comments');\n\n//Get all comments for a certain album\nexport const getAlbumComments = async ({ albumID = '' }) => {\n    try {\n        let comments = await axios.get('');\n        comments = comments.data.result;\n        var albumComments = comments.filter(comment => comment.albumID == albumID);\n        albumComments = albumComments.sort(function (a, b) {\n            return b.date - a.date;\n        });\n        return albumComments;\n    } catch (e) {\n        return [];\n    }\n};\n\n//Make a comment\nexport const createComment = async ({ user = '', commentBody = '', albumID = '', date = new Date().getTime() }) => {\n    return (await axios.post('', {\n        data: {\n            albumID, user, commentBody, date\n        },\n        type: 'merge'\n    })).data.result.posted;\n};\n\n//Delete a comment\nexport const updateComments = async (albumComments) => {\n    return (await axios.post('', {\n      data: albumComments\n    })).data.result.posted;\n  };\n  "]}]}