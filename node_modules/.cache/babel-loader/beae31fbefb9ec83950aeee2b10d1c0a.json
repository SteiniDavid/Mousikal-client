{"remainingRequest":"/Users/wberner/COMP426 Final Project/Mousikal-client/node_modules/babel-loader/lib/index.js!/Users/wberner/COMP426 Final Project/Mousikal-client/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/Users/wberner/COMP426 Final Project/Mousikal-client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wberner/COMP426 Final Project/Mousikal-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wberner/COMP426 Final Project/Mousikal-client/src/components/Comments.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wberner/COMP426 Final Project/Mousikal-client/src/components/Comments.vue","mtime":1576110580610},{"path":"/Users/wberner/COMP426 Final Project/Mousikal-client/node_modules/cache-loader/dist/cjs.js","mtime":1576031911054},{"path":"/Users/wberner/COMP426 Final Project/Mousikal-client/node_modules/babel-loader/lib/index.js","mtime":1576031910994},{"path":"/Users/wberner/COMP426 Final Project/Mousikal-client/node_modules/vuetify-loader/lib/loader.js","mtime":1576031913357},{"path":"/Users/wberner/COMP426 Final Project/Mousikal-client/node_modules/cache-loader/dist/cjs.js","mtime":1576031911054},{"path":"/Users/wberner/COMP426 Final Project/Mousikal-client/node_modules/vue-loader/lib/index.js","mtime":1576031913308}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvd2Jlcm5lci9DT01QNDI2IEZpbmFsIFByb2plY3QvTW91c2lrYWwtY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGNyZWF0ZUNvbW1lbnQgfSBmcm9tICIuLi9hcGkvY29tbWVudC9Db21tZW50IjsKaW1wb3J0IHsgZ2V0QWxidW1Db21tZW50cyB9IGZyb20gIi4uL2FwaS9jb21tZW50L0NvbW1lbnQiOwppbXBvcnQgeyB1cGRhdGVDb21tZW50cyB9IGZyb20gIi4uL2FwaS9jb21tZW50L0NvbW1lbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGxvZ2dlZEluVXNlck5hbWU6IFN0cmluZywKICAgIGFsYnVtVVJMOiBTdHJpbmcsCiAgICBhbGJ1bU5hbWU6IFN0cmluZywKICAgIHRyYWNrczogW10sCiAgICBhcnRpc3ROYW1lOiBTdHJpbmcsCiAgICBhbGJ1bUlEOiBTdHJpbmcKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyTmFtZTogIiIsCiAgICAgIGNvbW1lbnQ6ICIiLAogICAgICBhbGJ1bUNvbW1lbnRzOiBbXSwKICAgICAgdHJhY2tzUmVxdWVzdGVkOiBmYWxzZSwKICAgICAgcGxheWluZ011c2ljOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdENvbW1lbnQ6IGZ1bmN0aW9uIHN1Ym1pdENvbW1lbnQoKSB7CiAgICAgIHZhciBjb21tZW50czsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBzdWJtaXRDb21tZW50JChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGNyZWF0ZUNvbW1lbnQoewogICAgICAgICAgICAgICAgdXNlcjogdGhpcy51c2VyTmFtZSwKICAgICAgICAgICAgICAgIGNvbW1lbnRCb2R5OiB0aGlzLmNvbW1lbnQsCiAgICAgICAgICAgICAgICBhbGJ1bUlEOiB0aGlzLmFsYnVtSUQKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY29tbWVudHMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIHRoaXMuYWxidW1Db21tZW50cy51bnNoaWZ0KHsKICAgICAgICAgICAgICAgIHVzZXI6IHRoaXMudXNlck5hbWUsCiAgICAgICAgICAgICAgICBjb21tZW50Qm9keTogdGhpcy5jb21tZW50LAogICAgICAgICAgICAgICAgYWxidW1JRDogdGhpcy5hbGJ1bUlELAogICAgICAgICAgICAgICAgZGF0ZTogbmV3IERhdGUoKS5nZXRUaW1lKCkKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB0aGlzLmNvbW1lbnQgPSAiIjsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBjb21tZW50cyk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIG51bGwsIHRoaXMpOwogICAgfSwKICAgIGdldFRyYWNrczogZnVuY3Rpb24gZ2V0VHJhY2tzKCkgewogICAgICB0aGlzLnRyYWNrc1JlcXVlc3RlZCA9ICF0aGlzLnRyYWNrc1JlcXVlc3RlZDsKICAgIH0sCiAgICBwbGF5U291bmQ6IGZ1bmN0aW9uIHBsYXlTb3VuZCgpIHsKICAgICAgaWYgKHRoaXMucGxheWluZ011c2ljKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBhdWRpbyA9IG5ldyBBdWRpbyh0aGlzLnRyYWNrc1swXS5zYW1wbGVVUkwpOwogICAgICAgIHRoaXMucGxheWluZ011c2ljID0gdHJ1ZTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHRoaXMucGxheWluZ011c2ljID0gZmFsc2U7CiAgICAgICAgfSwgMzAwKTsKICAgICAgICBhdWRpby5wbGF5KCk7CiAgICAgIH0KICAgIH0sCiAgICByZXF1ZXN0VHJhY2tzOiBmdW5jdGlvbiByZXF1ZXN0VHJhY2tzKCkgewogICAgICB2YXIgciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0cmFja0xpc3QiKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50cmFja3MubGVuZ3RoOyBpKyspIHsKICAgICAgICByLmlubmVySFRNTCArPSAiPGg0IG9uY2xpY2s9dGhpcy50ZXN0KCk+PHNwYW4gc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4iICsgdGhpcy50cmFja3NbaV0ubmFtZSArICI8L3NwYW4+PHNwYW4gc3R5bGU9J2Zsb2F0OnJpZ2h0Oyc+IiArIHRoaXMubWlsbGlzVG9NaW51dGVzQW5kU2Vjb25kcyh0aGlzLnRyYWNrc1tpXS5kdXJhdGlvbikgKyAiPC9zcGFuPjwvaDQ+PGJyPiI7CiAgICAgIH0KICAgIH0sCiAgICBmZXRjaEFsYnVtQ29tbWVudHM6IGZ1bmN0aW9uIGZldGNoQWxidW1Db21tZW50cygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBjb21tZW50czsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBmZXRjaEFsYnVtQ29tbWVudHMkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGdldEFsYnVtQ29tbWVudHMoewogICAgICAgICAgICAgICAgYWxidW1JRDogdGhpcy5hbGJ1bUlECiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNvbW1lbnRzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgLy90aGlzLmFsYnVtQ29tbWVudHMgPSBjb21tZW50czsKICAgICAgICAgICAgICAvLyB0aGlzLnJlcXVlc3RUcmFja3MoKTsKICAgICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMucmVxdWVzdFRyYWNrcywgNTAwKTsKICAgICAgICAgICAgICB0aGlzLmFsYnVtQ29tbWVudHMgPSBbXTsKICAgICAgICAgICAgICBjb21tZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChjb21tZW50KSB7CiAgICAgICAgICAgICAgICBfdGhpcy5hbGJ1bUNvbW1lbnRzLnB1c2goX29iamVjdFNwcmVhZCh7fSwgY29tbWVudCwgewogICAgICAgICAgICAgICAgICBlZGl0OiBmYWxzZSwKICAgICAgICAgICAgICAgICAgZWRpdFZlcnNpb246ICIiCiAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdGhpcy5sb2FkZWQgPSB0cnVlOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBjb21tZW50cyk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0sCiAgICBtaWxsaXNUb01pbnV0ZXNBbmRTZWNvbmRzOiBmdW5jdGlvbiBtaWxsaXNUb01pbnV0ZXNBbmRTZWNvbmRzKG1pbGxpcykgewogICAgICB2YXIgbWludXRlcyA9IE1hdGguZmxvb3IobWlsbGlzIC8gNjAwMDApOwogICAgICB2YXIgc2Vjb25kcyA9IChtaWxsaXMgJSA2MDAwMCAvIDEwMDApLnRvRml4ZWQoMCk7CiAgICAgIHJldHVybiBtaW51dGVzICsgIjoiICsgKHNlY29uZHMgPCAxMCA/ICIwIiA6ICIiKSArIHNlY29uZHM7CiAgICB9LAogICAgZGVsZXRlQ29tbWVudDogZnVuY3Rpb24gZGVsZXRlQ29tbWVudChkYXRlKSB7CiAgICAgIHZhciB0bXA7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gZGVsZXRlQ29tbWVudCQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgdGhpcy5hbGJ1bUNvbW1lbnRzID0gdGhpcy5hbGJ1bUNvbW1lbnRzLmZpbHRlcihmdW5jdGlvbiAoY29tbWVudCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1lbnQuZGF0ZSAhPT0gZGF0ZTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB0bXAgPSBbXTsKICAgICAgICAgICAgICB0aGlzLmFsYnVtQ29tbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoY29tbWVudCkgewogICAgICAgICAgICAgICAgdG1wLnB1c2goewogICAgICAgICAgICAgICAgICBhbGJ1bUlEOiBjb21tZW50LmFsYnVtSUQsCiAgICAgICAgICAgICAgICAgIHVzZXI6IGNvbW1lbnQudXNlciwKICAgICAgICAgICAgICAgICAgY29tbWVudEJvZHk6IGNvbW1lbnQuY29tbWVudEJvZHksCiAgICAgICAgICAgICAgICAgIGRhdGU6IGNvbW1lbnQuZGF0ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAodXBkYXRlQ29tbWVudHModG1wKSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0sCiAgICBlZGl0Q29tbWVudDogZnVuY3Rpb24gZWRpdENvbW1lbnQoZGF0ZSkgewogICAgICB2YXIgY29tbWVudEluZGV4OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGVkaXRDb21tZW50JChfY29udGV4dDQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21tZW50SW5kZXggPSB0aGlzLmFsYnVtQ29tbWVudHMuZmluZEluZGV4KGZ1bmN0aW9uIChjb21tZW50KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWVudC5kYXRlID09IGRhdGU7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdGhpcy5hbGJ1bUNvbW1lbnRzW2NvbW1lbnRJbmRleF0uZWRpdCA9IHRydWU7IC8vYWxlcnQoImdvdCBoZXJlIik7CgogICAgICAgICAgICAgIHRoaXMuYWxidW1Db21tZW50c1tjb21tZW50SW5kZXhdLmVkaXRWZXJzaW9uID0gdGhpcy5hbGJ1bUNvbW1lbnRzW2NvbW1lbnRJbmRleF0uY29tbWVudEJvZHk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0sCiAgICBjYW5jZWxFZGl0OiBmdW5jdGlvbiBjYW5jZWxFZGl0KGRhdGUpIHsKICAgICAgdmFyIGNvbW1lbnRJbmRleCA9IHRoaXMuYWxidW1Db21tZW50cy5maW5kSW5kZXgoZnVuY3Rpb24gKGNvbW1lbnQpIHsKICAgICAgICByZXR1cm4gY29tbWVudC5kYXRlID09IGRhdGU7CiAgICAgIH0pOwogICAgICB0aGlzLmFsYnVtQ29tbWVudHNbY29tbWVudEluZGV4XS5lZGl0ID0gZmFsc2U7CiAgICB9LAogICAgc3VibWl0RWRpdDogZnVuY3Rpb24gc3VibWl0RWRpdChkYXRlKSB7CiAgICAgIHZhciBjb21tZW50SW5kZXgsIHRtcDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBzdWJtaXRFZGl0JChfY29udGV4dDUpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21tZW50SW5kZXggPSB0aGlzLmFsYnVtQ29tbWVudHMuZmluZEluZGV4KGZ1bmN0aW9uIChjb21tZW50KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWVudC5kYXRlID09IGRhdGU7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdGhpcy5hbGJ1bUNvbW1lbnRzW2NvbW1lbnRJbmRleF0uY29tbWVudEJvZHkgPSB0aGlzLmFsYnVtQ29tbWVudHNbY29tbWVudEluZGV4XS5lZGl0VmVyc2lvbjsKICAgICAgICAgICAgICB0aGlzLmFsYnVtQ29tbWVudHNbY29tbWVudEluZGV4XS5lZGl0ID0gZmFsc2U7CiAgICAgICAgICAgICAgdG1wID0gW107CiAgICAgICAgICAgICAgdGhpcy5hbGJ1bUNvbW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGNvbW1lbnQpIHsKICAgICAgICAgICAgICAgIHRtcC5wdXNoKHsKICAgICAgICAgICAgICAgICAgYWxidW1JRDogY29tbWVudC5hbGJ1bUlELAogICAgICAgICAgICAgICAgICB1c2VyOiBjb21tZW50LnVzZXIsCiAgICAgICAgICAgICAgICAgIGNvbW1lbnRCb2R5OiBjb21tZW50LmNvbW1lbnRCb2R5LAogICAgICAgICAgICAgICAgICBkYXRlOiBjb21tZW50LmRhdGUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHVwZGF0ZUNvbW1lbnRzKHRtcCkpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcyk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5mZXRjaEFsYnVtQ29tbWVudHMoKTsKICAgIHRoaXMudXNlck5hbWUgPSB0aGlzLmxvZ2dlZEluVXNlck5hbWU7CiAgfQp9Ow=="},{"version":3,"sources":["Comments.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-container>\n    <v-row>\n      <v-col>\n        <v-img\n          v-on:click=\"playSound()\"\n          :src=\"this.albumURL\"\n          contain\n          max-height=\"500\"\n          max-width=\"500\"\n        ></v-img>\n        <br />\n        <v-layout justify-center>\n          <v-subheader class=\"headline font-weight-bold\">{{this.artistName}}</v-subheader>\n        </v-layout>\n      </v-col>\n    </v-row>\n\n    <v-layout justify-center>\n      <v-subheader class=\"font-weight-light\">{{this.albumName}}</v-subheader>\n    </v-layout>\n\n    <v-layout justify-center>\n      <br />\n    </v-layout>\n    <v-btn v-on:click=\"getTracks()\" v-on:hover=\"alert()\">Show tracks</v-btn>\n    <br />\n\n    <v-layout justify-center>\n      <v-list v-if=\"tracksRequested\">\n        <v-list-item v-for=\"track in tracks\" :key=\"track.number\">\n          <v-card min-width=\" 600\">\n            <v-card-text>\n              {{track.name}}\n              <span style=\"float:right;\">{{millisToMinutesAndSeconds(track.duration)}}</span>\n            </v-card-text>\n          </v-card>\n        </v-list-item>\n      </v-list>\n    </v-layout>\n\n\n    <v-layout text-center wrap justify-center>\n      <v-flex xs6 mb-5>\n        <div v-if=\"loggedInUserName!='Anonymous'\">\n          <h2 class=\"headline font-weight-bold mb-3\">Make a comment</h2>\n          <v-layout justify-center>\n            <v-textarea outlined name=\"comment-box\" label=\"Make a comment\" value v-model=\"comment\"></v-textarea>\n          </v-layout>\n          <v-btn class=\"white--text\" color=\"deep-purple accent-4\" @click=\"submitComment\">Submit</v-btn>\n        </div>\n      </v-flex>\n\n      <v-layout justify-center v-for=\"comment in albumComments\" :key=\"comment.date\">\n        <v-card class=\"mx-6 mb-6\" color=\"green\" dark max-width=\"600\" min-width=\"500\">\n          <v-card-title>\n            <v-icon large left>mdi-comment</v-icon>\n            <span class=\"title font-weight-light\">Comment</span>\n          </v-card-title>\n\n          <v-card-text\n            class=\"headline font-weight-bold\"\n            v-if=\"comment.edit!=true\"\n          >{{comment.commentBody}}</v-card-text>\n          <div v-else>\n            <v-textarea\n              outlined\n              name=\"comment-box\"\n              label=\"Make a comment\"\n              value\n              v-model=\"comment.editVersion\"\n            ></v-textarea>\n            <v-btn\n              class=\"white--text\"\n              color=\"deep-purple accent-4\"\n              @click=\"submitEdit(comment.date)\"\n            >Submit</v-btn>\n            <v-btn\n              class=\"white--text\"\n              color=\"deep-purple accent-4\"\n              @click=\"cancelEdit(comment.date)\"\n            >Cancel</v-btn>\n          </div>\n\n          <v-card-actions>\n            <v-list-item class=\"grow\">\n              <v-list-item-avatar color=\"grey darken-3\">\n                <v-img\n                  class=\"elevation-6\"\n                  src=\"https://avataaars.io/?avatarStyle=Transparent&topType=ShortHairShortCurly&accessoriesType=Prescription02&hairColor=Black&facialHairType=Blank&clotheType=Hoodie&clotheColor=White&eyeType=Default&eyebrowType=DefaultNatural&mouthType=Default&skinColor=Light\"\n                ></v-img>\n              </v-list-item-avatar>\n\n              <v-list-item-content>\n                <v-list-item-title>{{comment.user}}</v-list-item-title>\n              </v-list-item-content>\n\n              <v-row align=\"center\" justify=\"end\" v-if=\"comment.user == userName\">\n                <v-icon\n                  class=\"mr-1\"\n                  @click=\"editComment(comment.date)\"\n                  v-if=\"comment.edit!=true\"\n                >mdi-pencil</v-icon>\n                <span\n                  class=\"subheading mr-2\"\n                  @click=\"editComment(comment.date)\"\n                  v-if=\"comment.edit!=true\"\n                >Edit</span>\n                <span class=\"mr-1\"></span>\n                <v-icon class=\"mr-1\" @click=\"deleteComment(comment.date)\">mdi-delete</v-icon>\n                <span class=\"subheading\" @click=\"deleteComment(comment.date)\">Delete</span>\n              </v-row>\n            </v-list-item>\n          </v-card-actions>\n        </v-card>\n      </v-layout>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport { createComment } from \"../api/comment/Comment\";\nimport { getAlbumComments } from \"../api/comment/Comment\";\nimport { updateComments } from \"../api/comment/Comment\";\n\nexport default {\n  props: {\n    loggedInUserName: String,\n    albumURL: String,\n    albumName: String,\n    tracks: [],\n    artistName: String,\n    albumID: String\n  },\n  data: () => ({\n    userName: \"\",\n    comment: \"\",\n    albumComments: [],\n    tracksRequested: false,\n    playingMusic: false\n  }),\n  methods: {\n    async submitComment() {\n      let comments = await createComment({\n        user: this.userName,\n        commentBody: this.comment,\n        albumID: this.albumID\n      });\n      this.albumComments.unshift({\n        user: this.userName,\n        commentBody: this.comment,\n        albumID: this.albumID,\n        date: new Date().getTime()\n      });\n      this.comment = \"\";\n      return comments;\n    },\n    getTracks() {\n      this.tracksRequested = !this.tracksRequested;\n    },\n    playSound() {\n      if (this.playingMusic) {\n        return false;\n      } else {\n        var audio = new Audio(this.tracks[0].sampleURL);\n        this.playingMusic = true;\n        setTimeout(function() {this.playingMusic = false;}, 300);\n        audio.play();\n      }\n    },\n    requestTracks() {\n      var r = document.getElementById(\"trackList\");\n      for (var i = 0; i < this.tracks.length; i++) {\n        r.innerHTML +=\n          \"<h4 onclick=this.test()><span style='float:left;'>\" +\n          this.tracks[i].name +\n          \"</span><span style='float:right;'>\" +\n          this.millisToMinutesAndSeconds(this.tracks[i].duration) +\n          \"</span></h4><br>\";\n      }\n    },\n    async fetchAlbumComments() {\n      let comments = await getAlbumComments({ albumID: this.albumID });\n      //this.albumComments = comments;\n      // this.requestTracks();\n      setTimeout(this.requestTracks, 500);\n      this.albumComments = [];\n\n      comments.forEach(comment => {\n        this.albumComments.push({\n          ...comment,\n          edit: false,\n          editVersion: \"\"\n        });\n      });\n      this.loaded = true;\n\n      return comments;\n    },\n    millisToMinutesAndSeconds(millis) {\n      var minutes = Math.floor(millis / 60000);\n      var seconds = ((millis % 60000) / 1000).toFixed(0);\n      return minutes + \":\" + (seconds < 10 ? \"0\" : \"\") + seconds;\n    },\n    async deleteComment(date) {\n      this.albumComments = this.albumComments.filter(\n        comment => comment.date !== date\n      );\n\n      var tmp = [];\n      this.albumComments.forEach(comment => {\n        tmp.push({\n          albumID: comment.albumID,\n          user: comment.user,\n          commentBody: comment.commentBody,\n          date: comment.date\n        });\n      });\n\n      await updateComments(tmp);\n    },\n    async editComment(date) {\n      var commentIndex = this.albumComments.findIndex(\n        comment => comment.date == date\n      );\n      this.albumComments[commentIndex].edit = true;\n      //alert(\"got here\");\n      this.albumComments[commentIndex].editVersion = this.albumComments[\n        commentIndex\n      ].commentBody;\n    },\n    cancelEdit(date) {\n      var commentIndex = this.albumComments.findIndex(\n        comment => comment.date == date\n      );\n      this.albumComments[commentIndex].edit = false;\n    },\n    async submitEdit(date) {\n      var commentIndex = this.albumComments.findIndex(\n        comment => comment.date == date\n      );\n\n      this.albumComments[commentIndex].commentBody = this.albumComments[\n        commentIndex\n      ].editVersion;\n      this.albumComments[commentIndex].edit = false;\n\n      var tmp = [];\n      this.albumComments.forEach(comment => {\n        tmp.push({\n          albumID: comment.albumID,\n          user: comment.user,\n          commentBody: comment.commentBody,\n          date: comment.date\n        });\n      });\n\n      await updateComments(tmp);\n    }\n  },\n  mounted() {\n    this.fetchAlbumComments();\n    this.userName = this.loggedInUserName;\n  }\n};\n</script>\n\n"],"sourceRoot":"src/components"}]}