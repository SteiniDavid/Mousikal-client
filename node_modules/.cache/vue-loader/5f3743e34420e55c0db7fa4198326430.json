{"remainingRequest":"/Users/steini/Documents/GitHub/Mousikal-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/steini/Documents/GitHub/Mousikal-client/src/components/ArtistPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/steini/Documents/GitHub/Mousikal-client/src/components/ArtistPage.vue","mtime":1576082805748},{"path":"/Users/steini/Documents/GitHub/Mousikal-client/node_modules/cache-loader/dist/cjs.js","mtime":499166100000},{"path":"/Users/steini/Documents/GitHub/Mousikal-client/node_modules/babel-loader/lib/index.js","mtime":499166100000},{"path":"/Users/steini/Documents/GitHub/Mousikal-client/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/steini/Documents/GitHub/Mousikal-client/node_modules/cache-loader/dist/cjs.js","mtime":499166100000},{"path":"/Users/steini/Documents/GitHub/Mousikal-client/node_modules/vue-loader/lib/index.js","mtime":499166100000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDb21tZW50cyBmcm9tICJAL2NvbXBvbmVudHMvQ29tbWVudHMudnVlIjsKCmltcG9ydCBfIGZyb20gImxvZGFzaCI7CmltcG9ydCB7IGdldEFydGlzdEFsYnVtcyB9IGZyb20gIi4uL2FwaS9zcG90aWZ5L3Nwb3RpZnkiOwppbXBvcnQgeyBnZXRBbGJ1bVRyYWNrcyB9IGZyb20gIi4uL2FwaS9zcG90aWZ5L3Nwb3RpZnkiOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENvbW1lbnRzCiAgfSwKICBwcm9wczogewogICAgYXJ0aXN0SUQ6IFN0cmluZywKICAgIGxvZ2dlZEluVXNlck5hbWU6IFN0cmluZwogIH0sCiAgZGF0YTogKCkgPT4gKHsKICAgIGFydGlzdDogIiIsCiAgICBhcnRpc3RJbmZvOiBbXSwKICAgIGFsYnVtQ2xpY2tlZE9uOiBmYWxzZSwKICAgIGNsaWNrZWRBbGJ1bUlEOiAnJywKICAgIGNvbW1lbnRzUGFja2FnZTogW10KICB9KSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBnZXRBcnRpc3RJbmZvKGlkKSB7CiAgICAgIHZhciByID0gYXdhaXQgZ2V0QXJ0aXN0QWxidW1zKGlkKTsKICAgICAgdGhpcy5hcnRpc3RJbmZvID0gcjsKICAgICAgdGhpcy5leHRyYWN0SW5mbygpOwogICAgfSwKICAgIGV4dHJhY3RJbmZvKCkgewogICAgICB0aGlzLmFydGlzdCA9IHRoaXMuYXJ0aXN0SW5mb1swXS5hcnRpc3Q7CiAgICAgIHRoaXMuYXJ0aXN0SW5mbyA9IF8udW5pcUJ5KHRoaXMuYXJ0aXN0SW5mbywgImltYWdlVVJMIik7CiAgICAgIHRoaXMuYXJ0aXN0SW5mbyA9IF8udW5pcUJ5KHRoaXMuYXJ0aXN0SW5mbywgImFsYnVtIik7CiAgICB9LAogICAgYXN5bmMgZ2V0QWxidW1EYXRhKGFsYnVtSUQpIHsKICAgICAgLy9UaGlzIGlzIHdoZXJlIHRoZSBhcGkgcmVxdWVzdCB0byBnZXQgdGhlIGluZm8gb2YgYSBnaXZlbiBhbGJ1bSBpcyBtYWRlLiAKICAgICAgLy9UaGlzIHNob3VsZCBzZXQgYW5kIGNyZWF0ZSB0aGUgdHJhY2tsaXN0IGFycmF5IGFuZCB0aGUgYWxidW0gY292ZXIsIG1heWJlIHNvbWUKICAgICAgLy9vdGhlciBkYXRhIHRvIHNob3cgd291bGQgYmUgY29vbC4gCiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBnZXRBbGJ1bVRyYWNrcyhhbGJ1bUlEKTsKICAgICAgdmFyIHRyYWNrcyA9IFtdOwogICAgICB3aW5kb3cuY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHsKICAgICAgICB0cmFja3NbaV0gPSByZXN1bHRbaV0ubmFtZTsKICAgICAgfQogICAgICByZXR1cm4gdHJhY2tzOwogICAgfSwKICAgIGFzeW5jIGFsYnVtQ2xpY2tlZChhbGJ1bUlEKSB7CiAgICAgIHRoaXMuYWxidW1DbGlja2VkT24gPSB0cnVlOwogICAgICB2YXIgdHJhY2tzID0gYXdhaXQgdGhpcy5nZXRBbGJ1bURhdGEoYWxidW1JRCk7CiAgICAgIHRoaXMuY29tbWVudHNQYWNrYWdlID0gW2FsYnVtSUQsIHRoaXMuYXJ0aXN0LCB0aGlzLmxvZ2dlZEluVXNlck5hbWUsIHRyYWNrc107CiAgICB9CiAgfSwKICBhc3luYyBtb3VudGVkKCkgewogICAgYXdhaXQgdGhpcy5nZXRBcnRpc3RJbmZvKHRoaXMuYXJ0aXN0SUQpOwogIH0KfTsKCg=="},{"version":3,"sources":["ArtistPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ArtistPage.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div v-if=\"!albumClickedOn\">\n      <div>\n        <h1>{{artist}}</h1>\n      </div>\n\n      <v-container>\n        <v-row dense>\n          <v-col v-for=\"album in artistInfo\" :key=\"album.albumID\" :cols=\"4\">\n            <v-card v-on:click=\"albumClicked(album.albumID)\">\n              <v-img :src=\"album.imageURL\" class=\"white--text align-end\" gradient=\"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)\" height=\"auto\" width=\"auto\"></v-img>\n              <v-card-actions>\n                <v-card-title>\n                  <span class=\"title font-weight-light\">{{album.album}}</span>\n                </v-card-title>\n              </v-card-actions>\n            </v-card>\n          </v-col>\n        </v-row>\n      </v-container>\n    </div>\n    <div v-if=\"albumClickedOn\">\n      <Comments :commentsPackage=\"this.commentsPackage\"></Comments>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Comments from \"@/components/Comments.vue\";\n\nimport _ from \"lodash\";\nimport { getArtistAlbums } from \"../api/spotify/spotify\";\nimport { getAlbumTracks } from \"../api/spotify/spotify\";\n\nexport default {\n  components: {\n    Comments\n  },\n  props: {\n    artistID: String,\n    loggedInUserName: String\n  },\n  data: () => ({\n    artist: \"\",\n    artistInfo: [],\n    albumClickedOn: false,\n    clickedAlbumID: '',\n    commentsPackage: []\n  }),\n  methods: {\n    async getArtistInfo(id) {\n      var r = await getArtistAlbums(id);\n      this.artistInfo = r;\n      this.extractInfo();\n    },\n    extractInfo() {\n      this.artist = this.artistInfo[0].artist;\n      this.artistInfo = _.uniqBy(this.artistInfo, \"imageURL\");\n      this.artistInfo = _.uniqBy(this.artistInfo, \"album\");\n    },\n    async getAlbumData(albumID) {\n      //This is where the api request to get the info of a given album is made. \n      //This should set and create the tracklist array and the album cover, maybe some\n      //other data to show would be cool. \n      let result = await getAlbumTracks(albumID);\n      var tracks = [];\n      window.console.log(result);\n      for (var i = 0; i < result.length; i++) {\n        tracks[i] = result[i].name;\n      }\n      return tracks;\n    },\n    async albumClicked(albumID) {\n      this.albumClickedOn = true;\n      var tracks = await this.getAlbumData(albumID);\n      this.commentsPackage = [albumID, this.artist, this.loggedInUserName, tracks];\n    }\n  },\n  async mounted() {\n    await this.getArtistInfo(this.artistID);\n  }\n};\n\n</script>\n\n"]}]}